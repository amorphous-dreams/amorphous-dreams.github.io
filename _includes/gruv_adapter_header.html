<header class="dreamnet-header">
  <div class="sigil">Noospheric Dreamnet Node</div>
  <h1>{{ site.title | default: "Amorphous Dreams Cabal" }}</h1>
  <p class="lead">{{ page.subtitle | default: site.lead | default: "A navigational console for the Dreamnet constellation." }}</p>

  {% include vault_nav_context.html %}

  {% assign request_url = vault_ctx_request_url | default: page.url | default: '/' %}
  {% assign vault_parent_href = vault_ctx_parent_href | default: nil %}
  {% assign vault_parent_label = vault_ctx_parent_label | default: nil %}

  <nav class="header-nav header-nav--global" aria-label="Global navigation">
    <a class="header-link header-home-link"
       href="{{ '/' | relative_url }}"
       {% if request_url == '/' %}aria-current="page"{% endif %}>
      {% include game_icon.html name='home' class='game-icon--sm' %}
      <span>DreamNet Home</span>
    </a>
    <a class="header-link"
       href="{{ '/vault/' | relative_url }}"
       {% if request_url contains '/vault/' %}aria-current="page"{% endif %}>
      {% include game_icon.html name='vault' class='game-icon--sm' %}
      <span>Vault</span>
    </a>
    {% if vault_parent_href and vault_parent_href != request_url %}
      <a class="header-link header-link--parent"
         href="{{ vault_parent_href | relative_url }}">
        {% include game_icon.html name='document' class='game-icon--sm' %}
        <span>{{ vault_parent_label | default: 'Parent' }}</span>
      </a>
    {% endif %}
    <a class="header-link header-link--external"
       href="{{ site.repo | default: 'https://github.com/amorphous-dreams/amorphous-dreams.github.io' }}"
       target="_blank"
       rel="noopener">
      {% include game_icon.html name='reference' class='game-icon--sm' %}
      <span>Reference</span>
    </a>
  </nav>
</header>
